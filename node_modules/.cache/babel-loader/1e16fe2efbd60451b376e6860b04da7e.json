{"ast":null,"code":"var _jsxFileName = \"/home/antony/Desktop/iit-site-frontend/src/containers/posts/Posts.tsx\";\nimport React, { Component } from \"react\";\nimport './Posts.css';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_PATH = 'http://127.0.0.1:8000/auth/jwt/create/';\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: {}\n    };\n\n    this.setPosts = result => {\n      const {\n        data\n      } = result;\n      const {\n        access\n      } = data;\n      axios.get(\"http://127.0.0.1:8000/api/v1/wall/1\", {\n        headers: {\n          \"accept\": \"application/json\",\n          Authorization: `JWT ${access}`\n        }\n      }).then(result => this.setState({\n        result: result\n      })).catch(error => console.log(error));\n    };\n  }\n\n  componentDidMount() {\n    axios({\n      method: 'post',\n      url: BASE_PATH,\n      headers: {\n        \"accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      data: {\n        \"username\": \"admin\",\n        \"password\": \"admin\"\n      }\n    }).then(res => this.setPosts(res)).catch(error => console.log(error));\n  }\n\n  render() {\n    const {\n      result\n    } = this.state;\n    const {\n      data = []\n    } = result;\n    console.log(data);\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"POSTS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), data.map(_ref => {\n        let {\n          id,\n          create_date,\n          user,\n          text,\n          comments_count\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(\"article\", {\n          className: \"post\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post__info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: create_date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: user\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Posts;","map":{"version":3,"sources":["/home/antony/Desktop/iit-site-frontend/src/containers/posts/Posts.tsx"],"names":["React","Component","axios","BASE_PATH","Posts","constructor","props","state","result","setPosts","data","access","get","headers","Authorization","then","setState","catch","error","console","log","componentDidMount","method","url","res","render","map","id","create_date","user","text","comments_count"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,aAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,SAAS,GAAG,wCAAlB;;AAEA,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;AAK1BI,EAAAA,WAAW,CAACC,KAAD,EAAa;AACpB,UAAMA,KAAN;AADoB,SAJxBC,KAIwB,GAJhB;AACJC,MAAAA,MAAM,EAAE;AADJ,KAIgB;;AAAA,SAuBxBC,QAvBwB,GAuBXD,MAAF,IAAyB;AAChC,YAAM;AAAEE,QAAAA;AAAF,UAAWF,MAAjB;AACA,YAAM;AAAEG,QAAAA;AAAF,UAAaD,IAAnB;AAEAR,MAAAA,KAAK,CAACU,GAAN,CAAU,qCAAV,EAAiD;AAC7CC,QAAAA,OAAO,EAAE;AACL,oBAAU,kBADL;AAELC,UAAAA,aAAa,EAAG,OAAMH,MAAO;AAFxB;AADoC,OAAjD,EAMKI,IANL,CAMUP,MAAM,IAAI,KAAKQ,QAAL,CAAc;AAC1BR,QAAAA,MAAM,EAAEA;AADkB,OAAd,CANpB,EASKS,KATL,CASWC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CATpB;AAWH,KAtCuB;AAEvB;;AAIDG,EAAAA,iBAAiB,GAAG;AAChBnB,IAAAA,KAAK,CAAC;AACFoB,MAAAA,MAAM,EAAE,MADN;AAEFC,MAAAA,GAAG,EAAEpB,SAFH;AAGFU,MAAAA,OAAO,EAAE;AACL,kBAAU,kBADL;AAEL,wBAAgB;AAFX,OAHP;AAOFH,MAAAA,IAAI,EAAE;AACF,oBAAY,OADV;AAEF,oBAAY;AAFV;AAPJ,KAAD,CAAL,CAYKK,IAZL,CAYUS,GAAG,IAAI,KAAKf,QAAL,CAAce,GAAd,CAZjB,EAaKP,KAbL,CAaWC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAbpB;AAcH;;AAoBDO,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEjB,MAAAA;AAAF,QAAa,KAAKD,KAAxB;AACA,UAAM;AAAEG,MAAAA,IAAI,GAAG;AAAT,QAAqBF,MAA3B;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AACA,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEKA,IAAI,CAACgB,GAAL,CAAS;AAAA,YAAC;AAAEC,UAAAA,EAAF;AAAMC,UAAAA,WAAN;AAAmBC,UAAAA,IAAnB;AAAyBC,UAAAA,IAAzB;AAA+BC,UAAAA;AAA/B,SAAD;AAAA,4BACN;AAAS,UAAA,SAAS,EAAC,MAAnB;AAAA,kCACI;AAAA,sBAAKJ;AAAL;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,sBAAIG;AAAJ;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACI;AAAA,wBAAOF;AAAP;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAA,wBAAOC;AAAP;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADM;AAAA,OAAT,CAFL;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAeH;;AAjEyB;;AAoE9B,eAAezB,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport './Posts.css';\nimport axios from \"axios\";\n\n\nconst BASE_PATH = 'http://127.0.0.1:8000/auth/jwt/create/';\n\nclass Posts extends Component {\n    state = {\n        result: {},\n    }\n\n    constructor(props: any) {\n        super(props);\n    }\n\n\n\n    componentDidMount() {\n        axios({\n            method: 'post',\n            url: BASE_PATH,\n            headers: {\n                \"accept\": \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n            data: {\n                \"username\": \"admin\",\n                \"password\": \"admin\"\n            }\n        })\n            .then(res => this.setPosts(res))\n            .catch(error => console.log(error));\n    }\n\n    setPosts = ( result: any ): void => {\n        const { data } = result;\n        const { access } = data;\n\n        axios.get(\"http://127.0.0.1:8000/api/v1/wall/1\", {\n            headers: {\n                \"accept\": \"application/json\",\n                Authorization: `JWT ${access}`\n            }\n        })\n            .then(result => this.setState({\n                result: result,\n            }))\n            .catch(error => console.log(error));\n\n    }\n\n\n    render() {\n        const { result } = this.state;\n        const { data = [] }: any = result;\n        console.log(data);\n        return(\n            <main>\n                <h3>POSTS</h3>\n                {data.map(({ id, create_date, user, text, comments_count }: any) => (\n                    <article className=\"post\">\n                        <h4>{id}</h4>\n                        <p>{text}</p>\n                        <div className=\"post__info\">\n                            <span>{create_date}</span>\n                            <span>{user}</span>\n                        </div>\n                    </article>\n                ))}\n            </main>\n        )\n    }\n}\n\nexport default Posts;"]},"metadata":{},"sourceType":"module"}